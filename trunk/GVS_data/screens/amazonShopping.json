{	
	"name": "Compound Amazon Shopping Cart Screen",
    "creationDate": "2009-04-20T17:00:00+0100",
    "creator": "http://www.fabio.es/",
    "description": {"en-gb": "This screen shows the list of products added to the user shopping cart. It allows users to update product quantity and clear the cart."},
    "domainContext": {
      "tags": [
        "amazon",
        "cart"
      ],
      "user": "admin"
    },
    "homepage": "http://www.deri.ie/amazonShopping",
    "icon": "http://localhost:8010/images/catalogue/amazonShopping.png",
    "label": {"en-gb": "Shopping Cart"},
    "rights": "http://creativecommons.org/",
    "screenshot": "http://www.deri.ie/amazonList-screenshot.jpg",
    "version": "1.0",
    "definition":[
                   {
                      "name": "amazonShoppingCartForm1",
                      "id": "25",
                      "actions":[
                          {
                              "name": "init",
                              "preconditions":[],
                              "uses":[],
                              "triggers": [{"id": "_onload"} ]
                          },
                          {
                              "name": "showTable",
                              "preconditions":[
                                  {
                                      "id":"list",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#ProductList",
                                      "positive":"true",
                                      "origins":[
                                          {
                                              "origin":"AmazonSearchCartService1",
                                              "id":"list",
                                              "uri":"http://aws.amazon.com/AWSECommerceService#ProductList"
                                          }
                                      ]
                                  }
                              ],
                              "uses":[],
                              "triggers": []
                          },
                          {
                              "name": "showMessage",
                              "preconditions":[
                                  {
                                      "id":"message",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#Message",
                                      "positive":"true",
                                      "origins":[
                                          {
                                              "origin":"AmazonSearchCartService1",
                                              "id":"message",
                                              "uri":"http://aws.amazon.com/AWSECommerceService#Message"
                                          },
                                          {
                                              "origin":"AmazonClearCartService1",
                                              "id":"message",
                                              "uri":"http://aws.amazon.com/AWSECommerceService#Message"
                                          },
                                          {
                                              "origin":"AmazonUpdateCartService1",
                                              "id":"message",
                                              "uri":"http://aws.amazon.com/AWSECommerceService#Message"
                                          }
                                      ]
                                  }
                              ],
                              "uses":[],
                              "triggers": []
                          }
                      ]
                  },
                  {
                      "name":"AmazonClearCartService1",
                      "id":"11",
                      "actions":[
                          {
                              "name":"clearService",
                              "preconditions":[
                                  {
                                      "id":"cart",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#ShoppingCart",
                                      "positive":"true",
                                      "origins":[]
                                  }
                              ],
                              "uses":[],
                              "triggers": [{"id":"clearCart", "origin":"amazonShoppingCartForm1"}]
                          }
                      ]
                  },
                  {
                      "name":"AmazonUpdateCartService1",
                      "id":"17",
                      "actions":[
                          {
                              "name":"updateService",
                              "preconditions":[
                                  {
                                      "id":"cart",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#ShoppingCart",
                                      "positive":"true",
                                      "origins":[
                                      ]
                                  },
                                  {
                                      "id":"update",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#UpdatingCart",
                                      "positive":"true",
                                      "origins":[
                                      	{
                                              "origin":"amazonShoppingCartForm1",
                                              "id":"cartUpdate",
                                              "uri":"http://aws.amazon.com/AWSECommerceService#UpdatingCart"
                                          }
                                      ]
                                  }
                              ],
                              "uses":[],
                              "triggers": []
                          }
                      ]
                  },
                  {
                      "name":"AmazonSearchCartService1",
                      "id":"14",
                      "actions":[
                          {
                              "name":"fetch",
                              "preconditions":[
                                  {
                                      "id":"cart",
                                      "uri":"http://aws.amazon.com/AWSECommerceService#ShoppingCart",
                                      "positive":"true",
                                      "origins":[
                                      ]
                                  }
                              ],
                              "uses":[],
                              "triggers": [
                              		{
                                          "id":"_onload"
                                    },
                                    {
                                          "id":"cartCleared",
                                          "origin":"AmazonClearCartService1"
                                    },
                                    {
                                          "id":"cartUpdated",
                                          "origin":"AmazonUpdateCartService1"
                                    }]
  							}
                      ]
                  }
            ],
    "preconditions": [[{
      "label": {"en-gb": "A Cart"},
      "pattern": "?Cart http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://aws.amazon.com/AWSECommerceService#ShoppingCart",
      "scope": "both"
    }]],
    "postconditions": [[
    	{
	      "id": "purchase",
		  "origin": "AmazonClearCartService1",
	      "label": {"en-gb": "A purchase"},
	      "pattern": "?Purchase http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://aws.amazon.com/AWSECommerceService#PurchaseURL",
	      "scope": "both",
	      "positive": false
	    },
	    {
	      "id": "purchase",
		  "origin": "AmazonUpdateCartService1",
	      "label": {"en-gb": "A purchase"},
	      "pattern": "?Purchase http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://aws.amazon.com/AWSECommerceService#PurchaseURL",
	      "scope": "both",
	      "positive": false
	    },
	    {
	      "id": "purchase",
		  "origin": "amazonShoppingCartForm1",
	      "label": {"en-gb": "A purchase"},
	      "pattern": "?Purchase http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://aws.amazon.com/AWSECommerceService#PurchaseURL",
	      "scope": "both"
	    },
	    {
	      "id": "item",
		  "origin": "amazonShoppingCartForm1",
	      "label": {"en-gb": "An item"},
	      "pattern": "?Item http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://aws.amazon.com/AWSECommerceService#Item",
	      "scope": "both"
	    }
	 ]]
}