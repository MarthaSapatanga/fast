{
    "id":"6",
    "creationDate":"2009-04-20T17:00:00+0100",
    "creator":"admin",
    "description":{
        "en-gb":"This screen shows the list of products added to the user shopping cart. It allows users to update product quantity and clear the cart."
    },
    "tags":[
        {
            "label":{
                "en-gb":"compound"
            }
        },
        {
            "label":{
                "en-gb":"amazon"
            },
            "means":"http://dbpedia.org/page/Amazon.com"
        },
        {
            "label":{
                "en-gb":"cart"
            }
        }
    ],
    "homepage":"http://www.deri.ie/amazonShopping",
    "icon":"http://demo.fast.morfeo-project.org/gvsdata/images/catalogue/amazonShopping.png",
    "label":{
        "en-gb":"Shopping Cart Compound"
    },
    "rights":"http://creativecommons.org/",
    "screenshot":"http://demo.fast.morfeo-project.org/gvsdata/images/screenshots/amazonShoppingCart.png",
    "version":"1.0",
    "definition":{
        "buildingblocks":[
            {
                "uri":"<shopping-form>"
            },
            {
                "uri":"<clearcart-service>"
            },
            {
                "uri":"<updatecart-service>"
            },
            {
                "uri":"<searchcart-service>"
            }
        ],
        "pipes":[
            {
                "from":{
                    "buildingblock":"",
                    "condition":"cart"
                },
                "to":{
                    "buildingblock":"<searchcart-service>",
                    "condition":"cart",
                    "action":"fetch"
                }
            },
            {
                "from":{
                    "buildingblock":"",
                    "condition":"cart"
                },
                "to":{
                    "buildingblock":"<updatecart-service>",
                    "condition":"cart",
                    "action":"updateService"
                }
            },
            {
                "from":{
                    "buildingblock":"",
                    "condition":"cart"
                },
                "to":{
                    "buildingblock":"<clearcart-service>",
                    "condition":"cart",
                    "action":"clearService"
                }
            },
            {
                "from":{
                    "buildingblock":"<searchcart-service>",
                    "condition":"list"
                },
                "to":{
                    "buildingblock":"<shopping-form>",
                    "condition":"list",
                    "action":"showTable"
                }
            },
            {
                "from":{
                    "buildingblock":"<shopping-form>",
                    "condition":"cartUpdate"
                },
                "to":{
                    "buildingblock":"<updatecart-service>",
                    "condition":"update",
                    "action":"updateService"
                }
            },
            {
                "from":{
                    "buildingblock":"<searchcart-service>",
                    "condition":"message"
                },
                "to":{
                    "buildingblock":"<shopping-form>",
                    "condition":"message",
                    "action":"showMessage"
                }
            },
            {
                "from":{
                    "buildingblock":"<clearcart-service>",
                    "condition":"message"
                },
                "to":{
                    "buildingblock":"<shopping-form>",
                    "condition":"message",
                    "action":"showMessage"
                }
            },
            {
                "from":{
                    "buildingblock":"<updatecart-service>",
                    "condition":"message"
                },
                "to":{
                    "buildingblock":"<shopping-form>",
                    "condition":"message",
                    "action":"showMessage"
                }
            },
            {
                "from":{
                    "buildingblock":"<clearcart-service>",
                    "condition":"purchase"
                },
                "to":{
                    "buildingblock":"",
                    "action":"",
                    "condition":"notpurchase"
                }
            },
            {
                "from":{
                    "buildingblock":"<updatecart-service>",
                    "condition":"purchase"
                },
                "to":{
                    "buildingblock":"",
                    "action":"",
                    "condition":"notpurchase"
                }
            },
            {
                "from":{
                    "buildingblock":"<shopping-form>",
                    "condition":"purchase"
                },
                "to":{
                    "buildingblock":"",
                    "action":"",
                    "condition":"purchase"
                }
            },
            {
                "from":{
                    "buildingblock":"<shopping-form>",
                    "condition":"item"
                },
                "to":{
                    "buildingblock":"",
                    "action":"",
                    "condition":"item"
                }
            }
        ],
        "triggers":[
            {
                "from":{
                    "buildingblock":"",
                    "name":"_onload"
                },
                "to":{
                    "buildingblock":"<shopping-form>",
                    "action":"init"
                }
            },
            {
                "from":{
                    "buildingblock":"",
                    "name":"_onload"
                },
                "to":{
                    "buildingblock":"<searchcart-service>",
                    "action":"fetch"
                }
            },
            {
                "from":{
                    "buildingblock":"<shopping-form>",
                    "name":"clearCart"
                },
                "to":{
                    "buildingblock":"<clearcart-service>",
                    "action":"clearService"
                }
            },
            {
                "from":{
                    "buildingblock":"<clearcart-service>",
                    "name":"cartCleared"
                },
                "to":{
                    "buildingblock":"<searchcart-service>",
                    "action":"fetch"
                }
            },
            {
                "from":{
                    "buildingblock":"<updatecart-service>",
                    "name":"cartUpdated"
                },
                "to":{
                    "buildingblock":"<searchcart-service>",
                    "action":"fetch"
                }
            }
        ]
    },
    "preconditions":[
        {
            "id":"cart",
            "label":{
                "en-gb":"A Cart"
            },
            "pattern":"?Cart http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://fast.morfeo-project.org/ontologies/amazon#ShoppingCart",
            "positive":"true"
        }
    ],
    "postconditions":[
        {
            "id":"notpurchase",
            "label":{
                "en-gb":"A purchase"
            },
            "pattern":"?Purchase http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://fast.morfeo-project.org/ontologies/amazon#PurchaseURL",
            "positive":"false"
        },
        {
            "id":"purchase",
            "label":{
                "en-gb":"A purchase"
            },
            "pattern":"?Purchase http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://fast.morfeo-project.org/ontologies/amazon#PurchaseURL",
            "positive":"true"
        },
        {
            "id":"item",
            "label":{
                "en-gb":"An item"
            },
            "pattern":"?Item http://www.w3.org/1999/02/22-rdf-syntax-ns#type http://fast.morfeo-project.org/ontologies/amazon#Item",
            "positive":"true"
        }
    ]
}